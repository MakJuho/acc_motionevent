<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <title>진동측정</title>
  <script type="text/javascript">
  <script src="script.js"/></script>
  
  <script>
    
    window.onload = function () {
// 데이터 값  

      var dps = [{
        x: 0,
        y: 0
      }]; //dataPoints. 

      var chart = new CanvasJS.Chart("chartContainer", {
        title: {
          text: "Live Data"
        },
        axisX: {
          title: "Axis X Title"
        },
        axisY: {
          title: "Units"
        },
        data: [{
          type: "line",
          dataPoints: dps
        }]
      });

      chart.render();
      
      var xVal = dps.length + 1;
      var yVal = 15;
      var updateInterval = 500;

      var updateChart = function () {


        yVal = time_H();
        
        dps.push({
          x: xVal,
          y: yVal
        });

        xVal++;
        if (dps.length > 10) {
          dps.shift();
        }

        chart.render();

        // update chart after specified time. 

      };

      setInterval(function () {
        updateChart()
      }, updateInterval);
    }
  </script>

  <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
</head>

<body>
      <div id="chartContainer" style="height: 300px; width: 100%;">
      </div>
      <div>
        진동 값1759:
        <span id="val">0</span>
      </div>
    <!-- <div><h2>Acceleration (w/o Gravity)</h2> -->
    <ul>
      <li>
        x:
        <input id="x1" type="range" max="20.0" min="-20.0" readonly="readonly" />
        <input id="x1n" type="number" max="20.0" min="-20.0" readonly="readonly" />
      </li>
      <li>y:
        <input id="y1" type="range" max="20.0" min="-20.0" readonly="readonly" />
        <input id="y1n" type="number" max="20.0" min="-20.0" readonly="readonly" />
      </li>
      <li>z:
        <input id="z1" type="range" max="20.0" min="-20.0" readonly="readonly" />
        <input id="z1n" type="number" max="20.0" min="-20.0" readonly="readonly" />
      </li>
      <li>abs:
        <input id="abs1" type="range" max="20.0" min="-20.0" readonly="readonly" />
        <input id="abs1n" type="number" max="20.0" min="-20.0" readonly="readonly" />
      </li>
    </ul>
    </div>

    <!-- <div><h2>Acceleration (w/ Gravity)</h2> -->
    <ul>
      <li>x:
        <input id="x2" type="range" max="20.0" min="-20.0" readonly="readonly" />
        <input id="x2n" type="number" max="20.0" min="-20.0" readonly="readonly" />
      </li>
      <li>y:
        <input id="y2" type="range" max="20.0" min="-20.0" readonly="readonly" />
        <input id="y2n" type="number" max="20.0" min="-20.0" readonly="readonly" />
      </li>
      <li>z:
        <input id="z2" type="range" max="20.0" min="-20.0" readonly="readonly" />
        <input id="z2n" type="number" max="20.0" min="-20.0" readonly="readonly" />
      </li>
      <li>abs:
        <input id="abs2" type="range" max="20.0" min="-20.0" readonly="readonly" />
        <input id="abs2n" type="number" max="20.0" min="-20.0" readonly="readonly" />
      </li>
    </ul>
    </div>
    <!-- <div><h2>Acceleration (vertical/horizontal)</h2> -->
    <ul>
      <li>v:
        <input id="v" type="range" max="20.0" min="-20.0" readonly="readonly" />
        <input id="vn" type="number" max="20.0" min="-20.0" readonly="readonly" />
      </li>
      <li>h:
        <input id="h" type="range" max="20.0" min="-20.0" readonly="readonly" />
        <input id="hn" type="number" max="20.0" min="-20.0" readonly="readonly" />
      </li>
    </ul>
    </div>

    <div>
      <span id="counter"></span>
      <button id="reset" style="padding: 5px 30px; border-radius: 10px;">reset</button>
    </div>

    <div>
      <canvas id="xyview" style="width: 200px; height: 200px; background-color: lightgray" width="200" height="200"></canvas>
      <canvas id="zview" style="width: 600px; height: 200px; background-color: lightgray" width="600" height="200"></canvas>
    </div>
    <div>
      진동 값:
      <span id="val">0</span>
    </div>

    <div>
      <ul>
        <li>
          <span style="color: red">raw value</span>
        </li>
        <li>
          <span style="color: blue">low-pass filtered value</span>
        </li>
      </ul>
    </div>
    <!-- <div id="log"></div> -->
    <!-- <div><a href="https://gist.github.com/bellbind/c885f85a0dd0e4681ee5">
            gist source</a></div> -->
</body>

</html>
